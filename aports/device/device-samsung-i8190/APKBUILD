# Reference: <https://postmarketos.org/devicepkg>
pkgname="device-samsung-i8190"
pkgdesc="Samsung Galaxy SIII mini"
pkgver=0.4
pkgrel=3
url="https://postmarketos.org"
license="MIT"
arch="noarch"
options="!check"
depends="postmarketos-base linux-samsung-i8190 mkbootimg mesa-dri-swrast"
makedepends="devicepkg-dev"
subpackages="$pkgname-nonfree-firmware:nonfree_firmware"
source="
    deviceinfo
    init-usb-hook.sh
"

build() {
	devicepkg_build $startdir $pkgname
}

package() {
	devicepkg_package $startdir $pkgname

    install -Dm644 "$srcdir"/init-usb-hook.sh "$pkgdir"/etc/postmarketos-mkinitfs/hooks/00-init_usb.sh
}

nonfree_firmware() {
	pkgdesc="Wifi firmware"
	depends="firmware-samsung-i8190"
	mkdir "$subpkgdir"
}

sha512sums="02774739faf54ca26690bc35fc83bccfbaebf092de35b15226f738bc5dedf2a3846e990738354b7d9da06ee915febad8f1d963dadd1f6ac9b7fdd118a415caf9  deviceinfo
f1704c80cb0e6757109e36797d2097eb76c99c79cd525d28fe81889f0e946aa3edeae08154067ef9492adb6fe131fe7a476aea41fef65b0effccadf5b8e513a2  init-usb-hook.sh"
